 ctest for a generator is defined in lcgcmake/generators/CMakeLists.txt
beside the definition of the generator itself.

 If an executable is to be compiled for the "generator", it is done by
lcgcmake/generators/"generator"/tests/CMakeLists.txt. The test code
(if it is not taken from the installed generator's share/sources)
is also put in this directory.

 The CMakeLists.txt for the test compilation uses the cmake system
FindPackage. Some macros to find well known packages are defined
in the standard cmake (see documentation). If the tested package
depends on some other package of GENSER or external, additional
macros FindPackage are used, e.g. FindHepMC, FindThePEG. They can
be defined in 2 places:

 1. package cmaketools defined in lcgcmake and installed in /external
 2. lcgcmake/cmake/modules . In this case this additional search path is
    added inside lcgcmake/generators/"generator"/tests/CMakeLists.txt

 Usually new Find* macros are put in the second location, and after
full testing added to cmaketools (kept in svn).

 When everything is prepared, a single ctest can be run in lcgcmake-build
by 

 ctest -R genname

 It is possible to increase verbosity of the test like this:

 ctest -VV -R genname

 Further increase of verbosity can be obtained by defining the
corresponding variable inside lcgcmake/generators/"generator"/tests/CMakeLists.txt,
there is an example in lhapdf6 test.

 It is recommended to avoid scripts in the ctests system

 Once the test is defined in lcgcmake/generators/CMakeLists, it will be run in
the nightlies.

 The comparably long tests (physics tests should contain the following line:
   LABELS PhysicsCheck


 CTESTS NAMING CONVENTION:

 1. tests of a generator using rivet:                  generator_riv2[_tname]
 2. tests of a generator using auxiliary generator2:   generator_gen2[_tname]
       (here gen2 is a shortened name of generaror2, for example "pyt6")
 3. tests of rivet: as in (3) with generator=rivet


 Tools available for the histograms comparison:

 1. ${CMAKE_SOURCE_DIR}/cmake/scripts/yoda2root.cmake
      -DAIDA2ROOT=${AIDA2ROOT} , example is ${CMAKE_SOURCE_DIR}/generators/reference/aida2root.py
      -DPython_cmd=${Python_cmd}
      -Dyoda_home=${yoda_home}
      -DINPUT=filepath/filename.yoda
      
    creates filename.root at filepath. In addition creates filename.aida

 2. ${CMAKE_SOURCE_DIR}/generators/reference/reference.py

    The main mode of work:

      reference.py file1.root file2.root "Path=name1" limit=0.05  or 
      reference.py file1.root file2.root "Path=name1,name2" "limit=0.05,0.05"
        Compare histogram name1 in the two root files, Kolmogorov test, conf. limit 5% 
        If the path is "XS", the script will calculate chi2 and use Tmath::Prob to
        calculate probability.

    Initially there was another mode of work:

      reference.py file1.yoda file2.yoda "Path=XS" limit=0.05
        But it is disabled now (will give an error). To use it, the code is to be further
        developed, adding extraction of scatter plot errors from yoda.
